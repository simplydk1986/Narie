{% extends 'base.html' %}
{% load static %}

{% block title %}회원가입 - Narié{% endblock %}

{% block content %}
<div class="bg-white py-16">
    <div class="container mx-auto max-w-sm px-4">
        <h2 class="text-3xl font-bold text-center text-gray-800 mb-2">SIGN UP</h2>
        <p class="text-center text-gray-500 mb-10">회원가입하고 지금 바로 나리에를 만나보세요</p>

        <!-- 회원가입 폼 -->
        <form method="post" action="{% url 'signup' %}">
            {% csrf_token %}
            
            <!-- 폼 에러 메시지 표시 -->
            {% if form.errors %}
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative mb-6" role="alert">
                    <strong class="font-bold">입력 정보를 확인해주세요.</strong>
                    <ul class="mt-2 list-disc list-inside">
                    {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <div class="mb-4">
                <label for="{{ form.username.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">사용자 이름</label>
                {{ form.username }}
            </div>

            <div class="mb-4">
                <label for="{{ form.email.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">이메일</label>
                {{ form.email }}
            </div>

            <div class="mb-4">
                <label for="{{ form.password1.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">비밀번호</label>
                {{ form.password1 }}
                <p class="text-xs text-gray-500 mt-1">비밀번호는 8자 이상이어야 하며, 문자와 숫자를 포함할 수 있습니다.</p>
            </div>

            <div class="mb-6">
                <label for="{{ form.password2.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">비밀번호 확인</label>
                {{ form.password2 }}
            </div>

            <button type="submit" class="w-full bg-gray-800 hover:bg-black text-white font-bold py-3 px-4 rounded-md focus:outline-none transition duration-300">
                가입하기
            </button>
        </form>

         <!-- SNS 간편 가입 (로그인 페이지와 동일한 구조) -->
        <div class="mt-10">
            <div class="relative">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-white text-gray-500">SNS 계정으로 간편가입</span>
                </div>
            </div>
             <div class="mt-6 flex justify-center space-x-4">
                <!-- 아이콘들은 login.html과 동일하게 배치 -->
                 <a href="{% provider_login_url 'kakao' %}" class="h-12 w-12 flex items-center justify-center rounded-full bg-[#FEE500] hover:opacity-90">
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 5.51 2 9.7c0 2.45 1.34 4.62 3.42 5.92-.15.54-.53 1.88-.67 2.33-.21.71.21 1.14.79.82 1.35-.73 3.55-2.22 4.48-2.84C10.95 16 11.47 16 12 16c5.52 0 10-3.41 10-7.6S17.52 2 12 2z"/></svg>
                </a>
                <a href="{% provider_login_url 'naver' %}" class="h-12 w-12 flex items-center justify-center rounded-full bg-[#03C75A] hover:opacity-90">
                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M16.22 18H7.78V6h8.44v12zM18 4H6v16h12V4z"/></svg>
                </a>
             </div>
        </div>

        <div class="text-center mt-6 text-sm">
            <p class="text-gray-600">이미 계정이 있으신가요? <a href="{% url 'login' %}" class="font-bold text-teal-500 hover:text-teal-800">로그인</a></p>
        </div>

    </div>
</div>
{% endblock %}
